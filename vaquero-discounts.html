<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#F05023">
    <title>Vaquero Discounts</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">

    <!-- PDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --primary: #F05023;
            --primary-hover: #d64015;
            --secondary: #646469;
            --bg-body: #F5F5F7;
            --bg-card: #FFFFFF;
            --text-main: #1D1D1F;
            --text-muted: #86868B;
            --border-color: #D2D2D7;
            --radius: 8px; /* Slightly sharper for official look */
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: 0.2s ease-in-out;
            --header-orange: #F05023;
            --header-gray: #575757;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            margin: 0;
            font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.5;
        }

        /* --- Global UTRGV Header --- */
        .utrgv-header {
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        /* Top Orange Bar */
        .header-top {
            background-color: var(--header-orange);
            color: white;
            padding: 0;
            height: 55px; /* Fixed height for consistency */
            display: flex;
            align-items: center;
            justify-content: flex-start;
            position: relative;
        }

        .header-logo-container {
            padding-left: 15px;
            display: flex;
            align-items: center;
            height: 100%;
            background: #cb4900;
            z-index: 2;
        }

        .utrgv-logo-img {
            height: 38px;
            width: auto;
            margin-right: 15px;
        }

        .header-10years {
             height: 38px;
             margin-left: 5px;
             border-left: 1px solid rgba(255,255,255,0.3);
             padding-left: 10px;
        }

        /* Slanted Divider */
        .header-divider {
            height: 55px;
            width: 40px;
            background: var(--header-orange);
            clip-path: polygon(0 0, 100% 0, 0 100%);
            margin-left: -1px; /* Overlap slightly */
            z-index: 1;
        }

        /* Gray Bar */
        .header-main-bar {
            flex-grow: 1;
            background-color: var(--header-gray);
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-left: 20px;
            margin-left: -20px; /* Pull back to tuck under slant */
            padding-right: 20px;
            z-index: 0;
        }

        .university-name {
            font-family: "Open Sans", sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding-left: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-left: auto;
        }

        .header-link {
            color: white;
            text-decoration: none;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            display: none; /* Hidden on mobile */
        }

        .header-search-icon {
            color: white;
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        @media (min-width: 900px) {
            .header-link { display: block; }
        }

        @media (max-width: 600px) {
            .university-name { display: none; } /* Hide full name on small screens */
            .header-top { justify-content: space-between; }
        }

        /* --- Local Header (Vaquero Discounts Title) --- */
        .app-header {
            background: white;
            padding: 32px 16px;
            border-bottom: 1px solid var(--border-color);
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .app-title {
            margin: 0;
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: -0.5px;
        }
        .app-subtitle {
            margin: 8px 0 24px 0;
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        .partner-actions {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .partner-btn {
            display: inline-block;
            padding: 10px 20px;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            border-radius: 4px;
            text-decoration: none;
            transition: all var(--transition);
        }

        .partner-btn.primary {
            background-color: var(--primary);
            color: white;
            border: 1px solid var(--primary);
        }
        .partner-btn.primary:hover {
            background-color: var(--primary-hover);
            border-color: var(--primary-hover);
        }

        .partner-btn.outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        .partner-btn.outline:hover {
            background-color: #fff3f0;
        }


        /* --- Main Layout --- */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 16px;
        }

        /* --- Search & Filters --- */
        .controls-section {
            margin-bottom: 32px;
        }

        .search-container {
            position: relative;
            margin-bottom: 24px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .search-input {
            width: 100%;
            padding: 16px 48px 16px 20px;
            border: 1px solid var(--border-color);
            border-radius: 50px; /* Pill shape */
            font-size: 16px;
            background: #fff;
            transition: all var(--transition);
            box-shadow: 0 2px 6px rgba(0,0,0,0.02);
            font-family: inherit;
        }
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(240, 80, 35, 0.15);
        }
        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
        }

        /* Filter Groups */
        .filter-label {
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 12px;
            display: block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Chips */
        .chips-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 12px;
            scrollbar-width: none;
            margin-bottom: 24px;
        }
        .chips-container::-webkit-scrollbar { display: none; }

        .chip {
            background: #fff;
            border: 1px solid var(--border-color);
            border-radius: 6px; /* Square with slight radius */
            padding: 8px 16px;
            font-size: 0.9rem;
            color: var(--text-main);
            white-space: nowrap;
            cursor: pointer;
            transition: all var(--transition);
            user-select: none;
            font-family: inherit;
            font-weight: 600;
        }
        .chip:hover { background: #f9f9f9; border-color: #bbb; }
        .chip.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 2px 8px rgba(240, 80, 35, 0.3);
        }

        /* Eligibility Toggles */
        .eligibility-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 16px;
        }
        .toggle-btn {
            background: #fff;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 8px 14px;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all var(--transition);
            font-family: inherit;
            color: var(--text-main);
        }
        .toggle-btn:hover { background: #f9f9f9; }
        .toggle-btn.active {
            background: #fff3f0; /* Light orange tint */
            border-color: var(--primary);
            color: var(--primary);
            font-weight: 700;
        }

        .clear-filters {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-decoration: underline;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            margin-top: 12px;
            font-family: inherit;
        }
        .clear-filters:hover { color: var(--primary); }

        /* --- Sections --- */
        .section-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #333;
            margin: 40px 0 20px 0;
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }
        .result-count {
            font-size: 0.9rem;
            font-weight: 400;
            color: var(--text-muted);
        }

        /* --- Cards --- */
        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
        }
        @media (min-width: 600px) { .grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 900px) { .grid { grid-template-columns: repeat(3, 1fr); } }

        .card {
            background: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 1px solid #E5E5E5;
            transition: transform var(--transition), box-shadow var(--transition);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.08);
            border-color: rgba(240, 80, 35, 0.3);
        }

        /* Orange Top Strip on Card */
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
            opacity: 0;
            transition: opacity 0.2s;
        }
        .card:hover::before { opacity: 1; }

        .card-header {
            padding: 20px;
            padding-bottom: 12px;
            flex-grow: 1;
        }

        .card-badge-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        .category-badge {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #555;
            background: #f0f0f0;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 700;
        }
        .discount-badge {
            background: #fff3f0;
            color: var(--primary);
            font-weight: 800;
            font-size: 0.85rem;
            padding: 4px 8px;
            border-radius: 4px;
            text-align: right;
            max-width: 60%;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0 0 8px 0;
            color: var(--text-main);
            line-height: 1.3;
        }

        .card-eligibility {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: auto;
        }

        .card-actions {
            padding: 16px 20px;
            background: #FAFAFA;
            border-top: 1px solid #eee;
            text-align: right;
        }
        .details-btn {
            background: var(--primary);
            border: none;
            color: white;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: background 0.2s;
            font-family: inherit;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .details-btn:hover {
            background: #d64015;
            text-decoration: none;
        }

        /* --- Modal --- */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(4px);
        }
        .modal-backdrop.active {
            display: flex;
            opacity: 1;
        }
        .modal-content {
            background: #fff;
            border-radius: var(--radius);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0,0,0,0.25);
            transform: translateY(20px);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        .modal-backdrop.active .modal-content {
            transform: translateY(0);
        }
        .modal-header {
            padding: 24px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            background: #fff;
            z-index: 10;
        }
        .modal-title {
            font-size: 1.5rem;
            font-weight: 800;
            margin: 0;
            color: var(--text-main);
            padding-right: 20px;
        }
        .close-modal-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px;
            transition: color 0.2s;
        }
        .close-modal-btn:hover { color: var(--primary); }

        .modal-body {
            padding: 24px;
            overflow-y: auto;
        }

        .modal-offer-box {
            background: #fff3f0;
            border-left: 4px solid var(--primary);
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 24px;
        }

        .modal-detail-row {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 20px;
        }
        .modal-detail-icon {
            color: var(--primary);
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .modal-label {
            display: block;
            font-size: 0.75rem;
            color: var(--secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 6px;
            font-weight: 700;
        }
        .modal-value {
            font-size: 1rem;
            color: var(--text-main);
            line-height: 1.6;
        }

        .modal-footer {
            padding: 20px 24px;
            border-top: 1px solid #eee;
            background: #fafafa;
            display: flex;
            justify-content: flex-end;
        }
        .pdf-btn {
            background: var(--text-main);
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 12px 24px;
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.2s;
            font-family: inherit;
        }
        .pdf-btn:hover {
            background: #000;
        }


        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border-color);
            margin-top: 48px;
            background: #fff;
        }
        .footer-link { color: var(--primary); font-weight: 600; text-decoration: none; }
        .footer-link:hover { text-decoration: underline; }

        /* --- Empty State --- */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-muted);
            background: #fff;
            border-radius: var(--radius);
            border: 1px dashed var(--border-color);
        }
        .empty-icon { width: 64px; height: 64px; opacity: 0.2; margin-bottom: 20px; color: var(--secondary); }

    </style>
</head>
<body>

    <!-- Header Structure -->
    <div class="utrgv-header">
        <div class="header-top">
            <div class="header-logo-container">
                <!-- UTRGV Logo Image -->
                <img src="utrgv-logo.png" alt="UTRGV Logo" class="utrgv-logo-img">
                <div style="color:white; font-weight:800; font-size:24px; line-height:1;">|</div>
                <!-- 10 Years Placeholder -->
                 <div style="font-weight:900; font-size:16px; margin-left:5px; line-height:1.1; text-align:center;">
                    10<br><span style="font-size:10px; display:block;">YEARS</span>
                </div>
            </div>

            <div class="header-main-bar">
                 <!-- Slant Element -->
                <div style="position:absolute; left:100%; top:0; height:100%; width:50px; background:inherit; clip-path: polygon(0 0, 100% 0, 0 100%);"></div>

                <div class="university-name">The University of Texas Rio Grande Valley</div>
                <nav class="header-nav">
                    <a href="#" class="header-link">Directory</a>
                    <a href="#" class="header-link">Maps</a>
                    <a href="#" class="header-link">MyUTRGV</a>
                    <a href="#" class="header-link">News</a>
                    <a href="#" class="header-link">Give</a>
                    <svg class="header-search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </nav>
            </div>
        </div>
    </div>

    <!-- App Header -->
    <div class="app-header">
        <h1 class="app-title">Vaquero Discounts</h1>
        <p class="app-subtitle">Exclusive savings for UTRGV Students, Faculty, Staff & Alumni</p>

        <div class="partner-actions">
            <a href="https://www.utrgv.edu/human-resources/current-employee/employee-discounts/discount-program-application/index.htm" target="_blank" class="partner-btn outline">Suggest a Partner</a>
            <a href="https://www.utrgv.edu/human-resources/current-employee/employee-discounts/discount-program-application/index.htm" target="_blank" class="partner-btn primary">Become a Partner</a>
        </div>
    </div>

    <main>

        <!-- Search & Filters -->
        <section class="controls-section">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Search businesses, categories..." aria-label="Search discounts">
                <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            </div>

            <span class="filter-label">Browse by Category</span>
            <div class="chips-container" id="categoryContainer">
                <!-- Injected via JS -->
            </div>

            <span class="filter-label">Filter by Eligibility</span>
            <div class="eligibility-container" id="eligibilityContainer">
                <button class="toggle-btn" data-value="Students">Students</button>
                <button class="toggle-btn" data-value="Faculty">Faculty</button>
                <button class="toggle-btn" data-value="Staff">Staff</button>
                <button class="toggle-btn" data-value="Alumni">Alumni</button>
            </div>

            <button id="clearFilters" class="clear-filters" style="display: none;">Reset all filters</button>
        </section>

        <!-- Featured -->
        <section id="featuredSection" style="display: none;">
            <div class="section-title">
                Featured Offers
            </div>
            <div class="grid" id="featuredGrid">
                <!-- JS Injected -->
            </div>
        </section>

        <!-- Results -->
        <section>
            <div class="section-title">
                All Discounts
                <span class="result-count" id="resultCount">Showing 0 results</span>
            </div>
            <div class="grid" id="resultsGrid">
                <!-- JS Injected -->
            </div>
            <div id="emptyState" class="empty-state" style="display: none;">
                <svg class="empty-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                <h3>No results found</h3>
                <p>Try adjusting your search or filters.</p>
                <button class="toggle-btn" style="display:inline-block; margin-top:16px;" onclick="clearAllFilters()">Clear Filters</button>
            </div>
        </section>

    </main>

    <!-- Modal -->
    <div id="modalBackdrop" class="modal-backdrop">
        <div class="modal-content" id="modalContent">
            <div class="modal-header">
                <h2 id="modalTitle" class="modal-title">Business Name</h2>
                <button class="close-modal-btn" onclick="closeModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic Content -->
            </div>
            <div class="modal-footer">
                <button class="pdf-btn" onclick="saveCurrentAsPDF()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg>
                    Download PDF Coupon
                </button>
            </div>
        </div>
    </div>

    <footer>
        <p><strong>Disclaimer:</strong> Vendors and offers are subject to change without notice.</p>
        <p>Please visit the <a href="https://www.utrgv.edu/hr/benefits/index.htm" target="_blank" class="footer-link">official UTRGV Human Resources website</a> for the most up-to-date policy and participation details.</p>
        <p>&copy; 2024 UTRGV Vaquero Discounts</p>
    </footer>

    <!-- ICONS (Embedded for reuse in JS) -->
    <div style="display: none;">
        <svg id="icon-map" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
        <svg id="icon-phone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
        <svg id="icon-globe" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
        <svg id="icon-info" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
        <svg id="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
    </div>

    <script>
        // --- DATA ---
        const DISCOUNTS = [
  {
    "id": "100",
    "businessName": "Advance Auto Parts",
    "category": "Auto & Tech",
    "discountAmount": "10% to RGV stores only",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Auto Parts",
    "address": "Valleywide",
    "phone": "",
    "email": "",
    "website": "https://shop.advanceautoparts.com/",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "auto"
    ],
    "joinDate": "06/01/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Owner"
  },
  {
    "id": "101",
    "businessName": "Beauty by Crystal: Lashes, Brows, Skin",
    "category": "Shop (Retail)",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Provide aesthetician services such as lash lifts and facials.",
    "address": "1605 E Griffin Parkway, Mission, TX 78572",
    "phone": "(956) 777-5818",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Mission",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "06/02/2025",
    "authorizedBy": "Luis Casas",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "102",
    "businessName": "Betancourt Landscaping Service",
    "category": "Services & Travel",
    "discountAmount": "10% on Labor Cost",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "We are a full service landscaping company that will improve and maintain any residential or commercial property. We offer lawn maintenance and landscape design and install.",
    "address": "2302 Continental St, Edinburg",
    "phone": "(956) 325-3245",
    "email": "",
    "website": "https://www.facebook.com/BetLS1/",
    "social": "",
    "campusProximity": "Near 2302 Continental St",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "06/03/2025",
    "authorizedBy": "Bernice Inzunza",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "103",
    "businessName": "Binary Technologies LLC",
    "category": "Auto & Tech",
    "discountAmount": "30%",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Industrial electronics, aluminum frame profiles, and engineering services.",
    "address": "6601 S. 27th St, McAllen, TX",
    "phone": "(956) 641-3876",
    "email": "",
    "website": "https://binaryb1ts.com/",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": false,
    "tags": [
      "auto"
    ],
    "joinDate": "06/04/2025",
    "authorizedBy": "Alexsandra Benavides",
    "contactTitle": "Representative"
  },
  {
    "id": "104",
    "businessName": "Bold Insurance",
    "category": "Services & Travel",
    "discountAmount": "Free consult.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Life and Health Insurance Retirement Planning Offices in McAllen, Pharr and San Juan.",
    "address": "3309 N Ware Rd, McAllen, TX 78504",
    "phone": "956-572-0177",
    "email": "",
    "website": "https://bold-insurance.com/",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": true,
    "tags": [
      "services"
    ],
    "joinDate": "06/05/2025",
    "authorizedBy": "Jay Gomez",
    "contactTitle": "Manager"
  },
  {
    "id": "105",
    "businessName": "Boot Barn Inc",
    "category": "Shop (Retail)",
    "discountAmount": "15% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Western and Work Wear.",
    "address": "507 W Expressway 83, McAllen, TX 78503",
    "phone": "(432) 307-0464",
    "email": "",
    "website": "https://www.bootbarn.com/",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "06/06/2025",
    "authorizedBy": "Carlos Ruiz",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "106",
    "businessName": "Brandit",
    "category": "Shop (Retail)",
    "discountAmount": "10% on purchases.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "Brandit - Embroidery/ Screen Printing/Laser Engraving.",
    "address": "1200 W Polk Ave, Suite D, Pharr, TX",
    "phone": "orders@mybrandit.com",
    "email": "(956) 687-7666",
    "website": "https://www.mybrandit.com/",
    "social": "",
    "campusProximity": "Near Pharr",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "06/07/2025",
    "authorizedBy": "Pedro H. Lopez Jr",
    "contactTitle": "Owner"
  },
  {
    "id": "107",
    "businessName": "Cantu's Pharmacy",
    "category": "Health & Beauty",
    "discountAmount": "10% off OTC or Vitamins",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "Provide various general pharmaceutical services.",
    "address": "504 S. Closner Blvd, Edinburg, TX 78539",
    "phone": "(956) 383-1239",
    "email": "",
    "website": "https://cantuspharmacy.com/",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "06/08/2025",
    "authorizedBy": "Rafaella Niki Ray",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "108",
    "businessName": "Champion Awards & Apparel",
    "category": "Health & Beauty",
    "discountAmount": "10% on qualifying products.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Trophies, screen printing, engraving, and embroidery.",
    "address": "2627 N Texas Blvd, Weslaco, TX 78599",
    "phone": "(956) 684-7154",
    "email": "",
    "website": "https://champtx.com/",
    "social": "",
    "campusProximity": "Near Weslaco",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "06/09/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "109",
    "businessName": "Chavo Ruco Car Wash",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "10%",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Chavo Ruco Car Wash offers full interior details, ceramic coating, headlights restoration, car wash services and paint correction.",
    "address": "1708 N Cage Blvd, Pharr, TX 78577",
    "phone": "(956) 776-1077",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Pharr",
    "isFeatured": false,
    "tags": [
      "fun"
    ],
    "joinDate": "06/10/2025",
    "authorizedBy": "Luis Casas",
    "contactTitle": "Representative"
  },
  {
    "id": "110",
    "businessName": "Cobbleheads Bar and Grill",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10% off food, not applicable with alcohol",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Cobbleheads is the heart and sould of Brownsville. We have outside and inside dining, great food, cold beer, amazing atmosphere for family and social get-togethers, and we are pet friendly.",
    "address": "3154 Central Blvd, Brownsville, TX 78520",
    "phone": "(956) 546-6224",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Brownsville",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "06/11/2025",
    "authorizedBy": "Bernice Inzunza",
    "contactTitle": "Manager"
  },
  {
    "id": "111",
    "businessName": "Crunch Fitness",
    "category": "Health & Beauty",
    "discountAmount": "10%",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Bring your UTRGV ID.",
    "description": "Crunch Fitness Edinburg.",
    "address": "1201 S McColl Rd",
    "phone": "(956) 609-9007",
    "email": "",
    "website": "https://www.crunch.com/locations/edinburg",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "06/12/2025",
    "authorizedBy": "Alexsandra Benavides",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "112",
    "businessName": "CWM Construction",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10%",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Residential Remodeling, kitchen and bath.",
    "address": "Edinburg",
    "phone": "508-301-0746",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "06/13/2025",
    "authorizedBy": "Jay Gomez",
    "contactTitle": "Owner"
  },
  {
    "id": "113",
    "businessName": "DD Fragrance",
    "category": "Shop (Retail)",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "Our fragrance boutique is a vibrant destination filled with luxurious premade perfumes, diffuser machines, an array of carefully crafted diffuser oils, and premium room sprays that elevate any space. At the center of the experience is our extraordinary Blend Bar\u2014the only one in all of Texas\u2014where customers can create fully customized perfumes with guidance from skilled fragrance specialists. This unique feature brings creativity, personalization, and excitement together, making the Blend Bar the standout highlight of the store and a true scent-making landmark in the state.",
    "address": "2109 S 10th St, McAllen, TX 77503",
    "phone": "(956) 403-6300",
    "email": "",
    "website": "https://www.ddfragrance.com/",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "06/14/2025",
    "authorizedBy": "Carlos Ruiz",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "114",
    "businessName": "Distinguished Wellness Center",
    "category": "Health & Beauty",
    "discountAmount": "20% off one service per visit",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "Distinguished is a barbershop with the amenities of a spa, we offer massage therapy. We accept cash, cashapp, card, Care Credit, and Afterpay. To book your next experience call (956) 230-0466",
    "address": "2413 Haine Drive, Harlingen, TX",
    "phone": "(956) 230-0466",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Harlingen",
    "isFeatured": true,
    "tags": [
      "health"
    ],
    "joinDate": "06/15/2025",
    "authorizedBy": "Pedro H. Lopez Jr",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "115",
    "businessName": "Frozone Texas",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "10% off purchase",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Frozone is Edinburg\u2019s newest frozen yogurt shop, offering a fun, self-serve experience where you can swirl your own froyo, choose from a wide variety of toppings, and create your perfect treat. In addition to frozen yogurt, we serve fresh fruit smoothies, a\u00e7a\u00ed bowls, and cold-pressed juices, making us a go-to spot for both sweet indulgences and healthier options. Locally owned and designed with the RGV community in mind, Frozone is a place to chill, connect, and enjoy delicious, customizable treats in a modern, welcoming space.",
    "address": "2801 W University Dr. Ste 7, Edinburg, TX 78539",
    "phone": "(956) 838-9848",
    "email": "hello@frozoneshops.com",
    "website": "http://instagram.com/frozoneshops",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": false,
    "tags": [
      "fun"
    ],
    "joinDate": "06/16/2025",
    "authorizedBy": "Rafaella Niki Ray",
    "contactTitle": "Representative"
  },
  {
    "id": "116",
    "businessName": "Hometown Nutrition & Energy",
    "category": "Auto & Tech",
    "discountAmount": "20% off.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "We offer a selection of Protein shake, energy refreshers, protein donuts and protein waffles. We also offer weight loss, muscle gain and maintenance programs.",
    "address": "901 S Raul Longoria Ste 16, Edinburg, TX 78542",
    "phone": "(956) 935-1093",
    "email": "",
    "website": "https://www.instagram.com/hometownnutrition_edinburg/?hl=en",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": true,
    "tags": [
      "auto"
    ],
    "joinDate": "06/17/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Manager"
  },
  {
    "id": "117",
    "businessName": "HOTWORX Edinburg",
    "category": "Services & Travel",
    "discountAmount": "$10 from regular monthly fee.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "Our patented sauna combines heat, infrared, and exercise\u2013 what we like to call \u201c3D Training\u201d\u2013 and makes HOTWORX a workout unlike any other fitness program available. HOTWORX is a virtually instructed exercise program created for users to experience the many benefits of infrared heat absorption, while completing a 30-minute Isometric workout or 15-minute High Intensity Interval Training (HIIT) session. As the infrared heat penetrates your body causing you to sweat, the isometric postures further accelerate detoxification by physically removing the toxins from your organs through muscle contraction. JOIN NOW 956-435-7775.",
    "address": "640 S Jackson Rd, Edinburg, TX 78539",
    "phone": "(956) 435-7775",
    "email": "",
    "website": "https://www.hotworx.net/studio/edinburg",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "06/18/2025",
    "authorizedBy": "Luis Casas",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "118",
    "businessName": "Hungry Howie's Pizza",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10% off entire purchase",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Hungry Howie's is a pizza franchise known for its \"Original Flavored Crust Pizza,\" fresh dough made daily, and a variety of other menu items like subs, salads, and wings. Adding a Flavored Crust\u00ae to your original round, deep dish, thin crust, or gluten-free crust brings flavor to your table at a fair price. We have 8 FREE Flavored Crust\u00ae options, and our featured flavors change over time. We also offer calzone-style oven-baked subs, Howie Bread\u00ae, fresh salads, wings, rolls, desserts & Pepsi\u00ae products. Every October, our Love, Hope & Pizza campaign raises funds for the National Breast Cancer Foundation\u00ae.",
    "address": "8001 N. 10th St, McAllen, TX 78504",
    "phone": "(956) 688-8898",
    "email": "",
    "website": "https://www.hungryhowies.com/",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "06/19/2025",
    "authorizedBy": "Bernice Inzunza",
    "contactTitle": "Owner"
  },
  {
    "id": "119",
    "businessName": "Jolie Petite",
    "category": "Shop (Retail)",
    "discountAmount": "10% off purchase",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Jolie Petite is a French-inspired restaurant nestled in the heart of downtown Brownsville. We proudly serve delectable brunch and lunch selections, and we also offer an exceptional dinner menu. Join us for our signature croissants paired with a perfectly crafted latte, or enjoy a memorable dining experience with family and friends. You can place your order online or by phone, and curbside pickup is available. Follow us on social media for events and weekly specials.",
    "address": "1105 E Adams Street, Brownsville, TX 78520",
    "phone": "(956) 280-5105",
    "email": "joliepetitebtx@gmail.com",
    "website": "",
    "social": "",
    "campusProximity": "Near Brownsville",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "06/20/2025",
    "authorizedBy": "Alexsandra Benavides",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "120",
    "businessName": "Kailani Food and Beverages",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10% off highest priced item purchased",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Kailani Poke Bowl is a locally owned, community-focused restaurant dedicated to offering fresh, customizable poke bowls made with high-quality ingredients and mindful preparation. We believe in creating food that is both nourishing and flavorful, served with genuine aloha spirit. From quick lunches to large catering orders, our goal is to share good energy, delicious flavors, and a welcoming experience, one bowl at a time.",
    "address": "500 E Morrison Rd Ste C, Brownsville, TX, 78526",
    "phone": "(956) 551-2914",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near TX",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "06/21/2025",
    "authorizedBy": "Jay Gomez",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "121",
    "businessName": "Kame House Novelties",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "10%.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "We sell anime merchandise. Our products include apparel, figures, posters, Funko Pops, keychains, stickers, backpacks, and much more.",
    "address": "1034 E University Dr., Edinburg, TX 78452; 2445 N International Blvd., Weslaco, TX 78599",
    "phone": "(956) 715-2977",
    "email": "kamehousenovelties@gmail.com",
    "website": "",
    "social": "",
    "campusProximity": "Near Weslaco",
    "isFeatured": false,
    "tags": [
      "fun"
    ],
    "joinDate": "06/22/2025",
    "authorizedBy": "Carlos Ruiz",
    "contactTitle": "Representative"
  },
  {
    "id": "122",
    "businessName": "Keto Mini Donuts LLC",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10%.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Nutritional bakery serving gluten free and sugar free pastries. We also are Texas first all sugar free coffee bar, specializing in hand crafted iced coffees and teas and lemonades.",
    "address": "2222 S. Expwy 83, Harlingen, TX, Ste. 502",
    "phone": "",
    "email": "",
    "website": "https://ketominidonuts.myshopify.com/",
    "social": "",
    "campusProximity": "Near TX",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "06/23/2025",
    "authorizedBy": "Pedro H. Lopez Jr",
    "contactTitle": "Manager"
  },
  {
    "id": "123",
    "businessName": "Mandujano Boot Company",
    "category": "Services & Travel",
    "discountAmount": "10%.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Mandujano Bootmakers is a family-owned, third-generation company that specializes in handcrafted, custom-made western boots, operating out of Weslaco, Texas since 1993. Mandujano offers both ready-made boots and fully custom designs, handcrafted in Weslaco, Texas. Mandujano offers online collection for men and women. Mandujano specializes in bespoke cowboy boots and custom designs, offering hundreds of leather and color combinations, custom logos, and embroidered designs. They are known for using high-quality raw materials. The company does not believe in mass-produced boots, focusing instead on unique, high-quality custom orders.",
    "address": "809 N Texas Blvd, Weslaco, TX 78596",
    "phone": "(956) 975-2565",
    "email": "",
    "website": "https://mandujanobootmakers.com/",
    "social": "",
    "campusProximity": "Near Weslaco",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "06/24/2025",
    "authorizedBy": "Rafaella Niki Ray",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "124",
    "businessName": "Medina Tire and Mechanic Shop",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "1 (One) Free tire patch on any size passenger car tire. One discount/coupon per vehicle.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Medina Tire and Mechanic Shop is located in Alamo, Tx. We have been serving the RGV community for 5 years. We offer tire and automotive services including; new and used tires, tire repairs (patches), RGV-wide-road service, as well as mechanical support on passenger cars and trucks.",
    "address": "810 N Alamo Rd, Alamo, TX 78516",
    "phone": "(956) 219-5985",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Alamo",
    "isFeatured": true,
    "tags": [
      "eat"
    ],
    "joinDate": "06/25/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Owner"
  },
  {
    "id": "125",
    "businessName": "Moboba",
    "category": "Shop (Retail)",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Family-owned specialty boba tea and dessert shop.",
    "address": "1715 W Trenton Rd,Suite 108, Edinburg, TX 78539",
    "phone": "(956) 287-4518",
    "email": "hello@mobobatea.com",
    "website": "",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "06/26/2025",
    "authorizedBy": "Luis Casas",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "126",
    "businessName": "Oil Can Harry's",
    "category": "Health & Beauty",
    "discountAmount": "10% off oil changes",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "We operate 4 oil-change centers in Edinburg, Pharr, Weslaco and Harlingen. We provide oil changes, vehicle inspections, and other preventative maintenance. Locations Edinburg: 956-318-1754 Harlingen: 956-423-1883 Pharr: 956-781-6457 Weslaco: 956-969-0049",
    "address": "",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "06/27/2025",
    "authorizedBy": "Bernice Inzunza",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "127",
    "businessName": "Pizza Patr\u00f3n",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Pizza Patr\u00f3n provides quality pizza and a combination of a Classic and Latin-Inspired pizza menu. All food is made fresh to order and all dough is made daily. Their menu includes classic pizzas, Latin-inspired flavors, and fresh toppings.",
    "address": "2758 W. University Dr.",
    "phone": "(956) 270-4261",
    "email": "",
    "website": "https://www.pizzapatron.com/",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "fun"
    ],
    "joinDate": "06/28/2025",
    "authorizedBy": "Alexsandra Benavides",
    "contactTitle": "Representative"
  },
  {
    "id": "128",
    "businessName": "Pollo Hut",
    "category": "Auto & Tech",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Pollo Hut offers a variety of chicken based meals and sides in a casual dining environment.",
    "address": "",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "auto"
    ],
    "joinDate": "06/29/2025",
    "authorizedBy": "Jay Gomez",
    "contactTitle": "Manager"
  },
  {
    "id": "129",
    "businessName": "Porterhouse Steakhouse",
    "category": "Services & Travel",
    "discountAmount": "10% off food, not applicable with alcohol",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Porterhouse Steakhouse serves hand cut steaks, seafood, burgers and more in a casual family-friendly setting.",
    "address": "Corner of 10th and Dove, McAllen, TX",
    "phone": "(956) 686-5636",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "06/30/2025",
    "authorizedBy": "Carlos Ruiz",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "130",
    "businessName": "Purple Studio Waxing",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "20% off all services priced at $65 and under",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "We are a waxing studio that specializes in full body waxing.",
    "address": "214 N. 16th st. Suite 200, Mcallen, TX",
    "phone": "956-253-4711",
    "email": "",
    "website": "https://www.facebook.com/people/Purple-Studio-Waxing/100072402746458/",
    "social": "",
    "campusProximity": "Near Mcallen",
    "isFeatured": true,
    "tags": [
      "eat"
    ],
    "joinDate": "07/01/2025",
    "authorizedBy": "Pedro H. Lopez Jr",
    "contactTitle": "Owner"
  },
  {
    "id": "131",
    "businessName": "RGV CPR, LLC",
    "category": "Shop (Retail)",
    "discountAmount": "$5 off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Provide American Heart Association CPR/BLS/First Aid/ACLS/PALS training and certification.",
    "address": "108 N. Jackson Rd, Suite 21, Edinburg, TX",
    "phone": "",
    "email": "",
    "website": "https://www.rgvcpr.com/",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "07/02/2025",
    "authorizedBy": "Rafaella Niki Ray",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "132",
    "businessName": "Rio Grande Grill",
    "category": "Health & Beauty",
    "discountAmount": "10% off food, not applicable with alcohol",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Rio Grande Grill is a barbecue restaurant serving smoked meats, sandwiches and sides with a South Texas twist.",
    "address": "1025 E Adams St, Brownsville, TX 78520",
    "phone": "(956) 621-5231",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Brownsville",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "07/03/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "133",
    "businessName": "Rock & Roll Sushi",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "10% off food, not applicable with alcohol",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Rock & Roll Sushi serves sushi and Asian-fusion dishes in a music-themed, casual atmosphere.",
    "address": "4017 N 10th St, McAllen, TX 78504",
    "phone": "(956) 994-1188",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near McAllen",
    "isFeatured": false,
    "tags": [
      "fun"
    ],
    "joinDate": "07/04/2025",
    "authorizedBy": "Luis Casas",
    "contactTitle": "Representative"
  },
  {
    "id": "134",
    "businessName": "Sip & Treats",
    "category": "Auto & Tech",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Sip & Treats is a dessert and beverage shop offering a variety of sweet treats and drinks.",
    "address": "123 Sample St, Edinburg, TX",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": false,
    "tags": [
      "auto"
    ],
    "joinDate": "07/05/2025",
    "authorizedBy": "Bernice Inzunza",
    "contactTitle": "Manager"
  },
  {
    "id": "135",
    "businessName": "Spartan Tactical Gear and Supply",
    "category": "Services & Travel",
    "discountAmount": "10% Discount",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout",
    "description": "Retail, Embroidery",
    "address": "132 N texas Blvd, Weslaco, TX 78596",
    "phone": "956-800-2302",
    "email": "",
    "website": "https://spartantgs.com/",
    "social": "",
    "campusProximity": "Near Weslaco",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "07/06/2025",
    "authorizedBy": "Alexsandra Benavides",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "136",
    "businessName": "Spice N Curry",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10% off",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Spice N Curry offers Indian cuisine including curries, biryanis, tandoori items and more.",
    "address": "Location varies",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "07/07/2025",
    "authorizedBy": "Jay Gomez",
    "contactTitle": "Owner"
  },
  {
    "id": "137",
    "businessName": "Starbucks \u2013 Edinburg",
    "category": "Shop (Retail)",
    "discountAmount": "10% off one handcrafted beverage",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Show UTRGV ID at participating location.",
    "description": "Starbucks coffeehouse chain offering coffee, tea, pastries and snacks.",
    "address": "Edinburg",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "07/08/2025",
    "authorizedBy": "Carlos Ruiz",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "138",
    "businessName": "Subway \u2013 Edinburg",
    "category": "Health & Beauty",
    "discountAmount": "10% off any regular sandwich",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Show UTRGV ID at participating location.",
    "description": "Subway sandwich chain serving customizable subs and salads.",
    "address": "Edinburg",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "07/09/2025",
    "authorizedBy": "Pedro H. Lopez Jr",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "139",
    "businessName": "Superior Oil Express",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "10% off parts & service (excluding tires). The maximum discount allotted is $150. Discounts/Coupons cannot be combined. One discount/coupon per account.",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Providing a better and more trusted service in the automotive repair and oil lube business.",
    "address": "710 N Shary Rd, Mission, TX 78572",
    "phone": "(956) 391-3990",
    "email": "",
    "website": "https://www.superioroilexpress.com/",
    "social": "",
    "campusProximity": "Near Mission",
    "isFeatured": false,
    "tags": [
      "fun"
    ],
    "joinDate": "07/10/2025",
    "authorizedBy": "Rafaella Niki Ray",
    "contactTitle": "Representative"
  },
  {
    "id": "140",
    "businessName": "Taco Palenque",
    "category": "Auto & Tech",
    "discountAmount": "10% off purchase",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID, In person",
    "description": "Taco Palenque offers tacos, fajitas and traditional Mexican dishes in a fast-casual setting.",
    "address": "Valleywide",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "auto"
    ],
    "joinDate": "07/11/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Manager"
  },
  {
    "id": "141",
    "businessName": "The Pizzeria",
    "category": "Services & Travel",
    "discountAmount": "10% off purchase",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "The Pizzeria offers hand-tossed pizzas, pasta, wings and more.",
    "address": "Edinburg",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "07/12/2025",
    "authorizedBy": "Luis Casas",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "142",
    "businessName": "Trinidad Creations",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "20% Discount",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Use your UTRGV ID at checkout.",
    "description": "Customized T-shirts, polos, tumblers, gift shop, boutique clothing.",
    "address": "511 E. Ocean Blvd Ste 102, Los Fresnos, 78566",
    "phone": "956-239-9839",
    "email": "",
    "website": "https://www.facebook.com/TrinidadCreations/",
    "social": "",
    "campusProximity": "Near Los Fresnos",
    "isFeatured": true,
    "tags": [
      "eat"
    ],
    "joinDate": "07/13/2025",
    "authorizedBy": "Bernice Inzunza",
    "contactTitle": "Owner"
  },
  {
    "id": "143",
    "businessName": "Tropical Smoothie Cafe",
    "category": "Shop (Retail)",
    "discountAmount": "10% off purchase",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Tropical Smoothie Cafe serves smoothies, wraps, sandwiches and flatbreads.",
    "address": "McAllen",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "shop"
    ],
    "joinDate": "07/14/2025",
    "authorizedBy": "Alexsandra Benavides",
    "contactTitle": "Social Goat Rep for TDG"
  },
  {
    "id": "144",
    "businessName": "uBreakiFix",
    "category": "Health & Beauty",
    "discountAmount": "$5 to $10 off every repair; additional discounts available depending on service",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "We are the nation's largest electronic device repair company and we are an official repair partner for Google\u2122, Samsung\u00ae, Verizon\u2122 and AT&T\u00ae. We repair all types of smart phones, computers, laptops, tablets and game consoles. We also provide software troubleshooting, data transfers and recovery.",
    "address": "1616 West University Dr. Edinburg, TX",
    "phone": "(956) 329-1080",
    "email": "",
    "website": "https://www.asurion.com/repairs/tech/locations/edinburg/",
    "social": "",
    "campusProximity": "Near 1616 West University Dr. Edinburg",
    "isFeatured": false,
    "tags": [
      "health"
    ],
    "joinDate": "07/15/2025",
    "authorizedBy": "Jay Gomez",
    "contactTitle": "Business Marketing Partner"
  },
  {
    "id": "145",
    "businessName": "University Barbershop",
    "category": "Fun & Events (Entertainment)",
    "discountAmount": "20%",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID Required",
    "description": "Barbershop that caters to all things UTRGV. Located right in front of campus, we offer 20% discounts too all UTRGV Students/Staff/Alumni.",
    "address": "317 S Sugar Rd, Edinburg, Texas 78539",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "Near Edinburg",
    "isFeatured": true,
    "tags": [
      "fun"
    ],
    "joinDate": "07/16/2025",
    "authorizedBy": "Carlos Ruiz",
    "contactTitle": "Representative"
  },
  {
    "id": "146",
    "businessName": "Vaquero Outfitters",
    "category": "Auto & Tech",
    "discountAmount": "10% total purchase *some exclusions may apply",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "Present valid student/employee ID.",
    "description": "Vaquero Outfitters is a retail store offering officially licensed UTRGV apparel and merchandise.",
    "address": "1516 W. Univeristy Dr. Edinburg, TX 78539",
    "phone": "956-378-9020",
    "email": "",
    "website": "https://www.vaquerooutfitters.shop/",
    "social": "",
    "campusProximity": "Near 1516 W. Univeristy Dr. Edinburg",
    "isFeatured": false,
    "tags": [
      "auto"
    ],
    "joinDate": "07/17/2025",
    "authorizedBy": "Pedro H. Lopez Jr",
    "contactTitle": "Manager"
  },
  {
    "id": "147",
    "businessName": "Yogurt Zone",
    "category": "Services & Travel",
    "discountAmount": "10% off frozen yogurt",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Self-serve frozen yogurt shop with various flavors and toppings.",
    "address": "Multiple RGV locations",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "services"
    ],
    "joinDate": "07/18/2025",
    "authorizedBy": "Rafaella Niki Ray",
    "contactTitle": "Owner/Operator"
  },
  {
    "id": "148",
    "businessName": "Ziggi's Coffee",
    "category": "Eat & Drink (Food & Dining)",
    "discountAmount": "10% off any drink",
    "whoCanRedeem": [
      "Students",
      "Faculty",
      "Staff"
    ],
    "howToRedeem": "UTRGV ID",
    "description": "Ziggi's Coffee is a specialty coffee shop offering coffee, energy drinks and pastries.",
    "address": "Edinburg",
    "phone": "",
    "email": "",
    "website": "",
    "social": "",
    "campusProximity": "RGV Area",
    "isFeatured": false,
    "tags": [
      "eat"
    ],
    "joinDate": "07/19/2025",
    "authorizedBy": "Santos & Jonathan Luna",
    "contactTitle": "Owner"
  }
];

        // --- CONFIG ---
        // Updated based on actual CSV data
        const CATEGORIES = [
            "Eat & Drink (Food & Dining)",
            "Shop (Retail)",
            "Health & Beauty",
            "Fun & Events (Entertainment)",
            "Auto & Tech",
            "Services & Travel",
            "Other"
        ];

        // --- STATE ---
        let state = {
            search: "",
            category: null,
            eligibility: new Set(),
            currentModalItem: null
        };

        // --- DOM ELEMENTS ---
        const els = {
            search: document.getElementById('searchInput'),
            categories: document.getElementById('categoryContainer'),
            eligibility: document.getElementById('eligibilityContainer'),
            clearBtn: document.getElementById('clearFilters'),
            featuredSection: document.getElementById('featuredSection'),
            featuredGrid: document.getElementById('featuredGrid'),
            resultsGrid: document.getElementById('resultsGrid'),
            resultCount: document.getElementById('resultCount'),
            emptyState: document.getElementById('emptyState'),
            modalBackdrop: document.getElementById('modalBackdrop'),
            modalTitle: document.getElementById('modalTitle'),
            modalBody: document.getElementById('modalBody')
        };

        // --- ICONS ---
        const icons = {
            map: document.getElementById('icon-map').innerHTML,
            phone: document.getElementById('icon-phone').innerHTML,
            globe: document.getElementById('icon-globe').innerHTML,
            info: document.getElementById('icon-info').innerHTML,
            check: document.getElementById('icon-check').innerHTML
        };

        // --- INIT ---
        function init() {
            loadState();
            renderFilters();
            renderAll();
            setupListeners();
            registerSW();
        }

        function registerSW() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                .then(() => console.log('Service Worker Registered'))
                .catch(err => console.log('SW Registration Failed', err));
            }
        }

        function setupListeners() {
            // Search
            els.search.addEventListener('input', (e) => {
                state.search = e.target.value;
                saveState();
                renderAll();
            });

            // Categories
            els.categories.addEventListener('click', (e) => {
                if (e.target.classList.contains('chip')) {
                    const cat = e.target.dataset.cat;
                    if (state.category === cat) {
                        state.category = null; // Toggle off
                    } else {
                        state.category = cat;
                    }
                    renderCategoryChips();
                    saveState();
                    renderAll();
                }
            });

            // Eligibility
            els.eligibility.addEventListener('click', (e) => {
                const btn = e.target.closest('.toggle-btn');
                if (btn) {
                    const val = btn.dataset.value;
                    if (state.eligibility.has(val)) {
                        state.eligibility.delete(val);
                    } else {
                        state.eligibility.add(val);
                    }
                    renderEligibilityToggles();
                    saveState();
                    renderAll();
                }
            });

            // Clear
            els.clearBtn.addEventListener('click', clearAllFilters);

            // Modal Backdrop Click
            els.modalBackdrop.addEventListener('click', (e) => {
                if (e.target === els.modalBackdrop) {
                    closeModal();
                }
            });
        }

        function clearAllFilters() {
            state.search = "";
            state.category = null;
            state.eligibility.clear();
            els.search.value = "";
            renderCategoryChips();
            renderEligibilityToggles();
            saveState();
            renderAll();
        }

        // --- RENDER FILTERS ---
        function renderFilters() {
            renderCategoryChips();
            renderEligibilityToggles();
            els.search.value = state.search;
        }

        function renderCategoryChips() {
            els.categories.innerHTML = CATEGORIES.map(cat => {
                const isActive = state.category === cat;
                return `<button class="chip ${isActive ? 'active' : ''}" data-cat="${cat}">${cat}</button>`;
            }).join('');
        }

        function renderEligibilityToggles() {
            Array.from(els.eligibility.children).forEach(btn => {
                const val = btn.dataset.value;
                if (state.eligibility.has(val)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            const hasFilters = state.search || state.category || state.eligibility.size > 0;
            els.clearBtn.style.display = hasFilters ? 'block' : 'none';
        }

        // --- CORE LOGIC ---
        function getFilteredDiscounts() {
            return DISCOUNTS.filter(d => {
                if (state.search) {
                    const q = state.search.toLowerCase();
                    const text = (d.businessName + " " + d.description + " " + d.tags.join(" ")).toLowerCase();
                    if (!text.includes(q)) return false;
                }
                if (state.category && d.category !== state.category) {
                    return false;
                }
                if (state.eligibility.size > 0) {
                    const selected = Array.from(state.eligibility);
                    const hasIntersection = selected.some(role => d.whoCanRedeem.includes(role));
                    if (!hasIntersection) return false;
                }
                return true;
            }).sort((a, b) => a.businessName.localeCompare(b.businessName));
        }

        function renderAll() {
            const filtered = getFilteredDiscounts();
            els.resultCount.textContent = `Showing ${filtered.length} discount${filtered.length !== 1 ? 's' : ''}`;

            const featured = filtered.filter(d => d.isFeatured);
            const isFiltering = state.search || state.category || state.eligibility.size > 0;

            if (featured.length > 0 && !isFiltering) {
                els.featuredSection.style.display = 'block';
                els.featuredGrid.innerHTML = featured.slice(0, 3).map(renderCard).join('');
            } else {
                els.featuredSection.style.display = 'none';
            }

            if (filtered.length === 0) {
                els.resultsGrid.innerHTML = '';
                els.emptyState.style.display = 'block';
            } else {
                els.emptyState.style.display = 'none';
                els.resultsGrid.innerHTML = filtered.map(renderCard).join('');
            }
            renderEligibilityToggles();
        }

        function truncateText(text, limit) {
            if (!text) return "";
            if (text.length <= limit) return text;
            return text.substring(0, limit) + "...";
        }

        function renderCard(item) {
            const who = item.whoCanRedeem.join(", ");
            const discountDisplay = truncateText(item.discountAmount, 25);

            return `
            <article class="card">
                <div class="card-header">
                    <div class="card-badge-row">
                        <span class="category-badge">${item.category}</span>
                        <span class="discount-badge" title="${item.discountAmount}">${discountDisplay}</span>
                    </div>
                    <h3 class="card-title">${item.businessName}</h3>
                    <div class="card-eligibility">For: ${who}</div>
                </div>

                <div class="card-actions">
                    <button class="details-btn" onclick="openModal('${item.id}')">
                        View Details <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                    </button>
                </div>
            </article>
            `;
        }

        // --- MODAL & PDF ---
        window.openModal = function(id) {
            const item = DISCOUNTS.find(d => d.id == id);
            if (!item) return;
            state.currentModalItem = item;

            els.modalTitle.textContent = item.businessName;

            const who = item.whoCanRedeem.join(", ");

            els.modalBody.innerHTML = `
                <div class="modal-offer-box">
                    <span class="modal-label" style="color:var(--primary);">Discount Offer</span>
                    <strong style="font-size:1.4rem; color:var(--text-main); display:block; margin-top:4px;">${item.discountAmount}</strong>
                </div>

                <div class="modal-detail-row">
                    <div class="modal-detail-icon">${icons.info}</div>
                    <div>
                        <span class="modal-label">How to Redeem</span>
                        <div class="modal-value">${item.howToRedeem}</div>
                    </div>
                </div>

                <div class="modal-detail-row">
                    <div class="modal-detail-icon" style="color:var(--secondary);">
                         ${icons.check}
                    </div>
                    <div>
                        <span class="modal-label">Eligibility</span>
                        <div class="modal-value">${who}</div>
                    </div>
                </div>

                ${item.description ? `
                <div class="modal-detail-row">
                     <div class="modal-detail-icon" style="opacity:0;"></div>
                    <div style="font-style:italic; color:var(--text-muted); border-left:3px solid #eee; padding-left:12px;">${item.description}</div>
                </div>
                ` : ''}

                ${item.address ? `
                <div class="modal-detail-row">
                    <div class="modal-detail-icon">${icons.map}</div>
                    <div>
                        <span class="modal-label">Location</span>
                        <div class="modal-value">
                            <a href="https://maps.google.com/?q=${encodeURIComponent(item.address)}" target="_blank" style="color:var(--text-main); text-decoration:underline;">${item.address}</a>
                            ${item.campusProximity ? `<div style="font-size:0.85em; color:var(--text-muted); margin-top:2px;">(${item.campusProximity})</div>` : ''}
                        </div>
                    </div>
                </div>
                ` : ''}

                ${item.phone ? `
                <div class="modal-detail-row">
                    <div class="modal-detail-icon">${icons.phone}</div>
                    <div>
                        <span class="modal-label">Phone</span>
                        <div class="modal-value"><a href="tel:${item.phone}" style="color:var(--text-main); text-decoration:none;">${item.phone}</a></div>
                    </div>
                </div>
                ` : ''}

                ${item.website ? `
                <div class="modal-detail-row">
                    <div class="modal-detail-icon">${icons.globe}</div>
                    <div>
                        <span class="modal-label">Website</span>
                        <div class="modal-value"><a href="${item.website}" target="_blank" style="color:var(--primary); font-weight:700;">Visit Website &rarr;</a></div>
                    </div>
                </div>
                ` : ''}
            `;

            els.modalBackdrop.classList.add('active');
            document.body.style.overflow = 'hidden';
        };

        window.closeModal = function() {
            els.modalBackdrop.classList.remove('active');
            document.body.style.overflow = '';
            state.currentModalItem = null;
        };

        window.saveCurrentAsPDF = function() {
            if (!state.currentModalItem) return;
            const item = state.currentModalItem;

            if (!window.jspdf) {
                alert("PDF library not loaded. Please check internet connection.");
                return;
            }

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Layout constants
            const margin = 20;
            const pageWidth = doc.internal.pageSize.getWidth();
            const pageHeight = doc.internal.pageSize.getHeight();
            const contentWidth = pageWidth - (margin * 2);

            // Branding Header
            doc.setFillColor(240, 80, 35); // UTRGV Orange
            doc.rect(0, 0, pageWidth, 40, 'F');

            doc.setTextColor(255, 255, 255);
            doc.setFontSize(22);
            doc.setFont("helvetica", "bold");
            doc.text("UTRGV Vaquero Discounts", margin, 25);

            let y = 60;

            // Business Name
            doc.setTextColor(29, 29, 31); // Dark Gray
            doc.setFontSize(20);
            doc.setFont("helvetica", "bold");
            const titleSplit = doc.splitTextToSize(item.businessName, contentWidth);
            doc.text(titleSplit, margin, y);
            y += (titleSplit.length * 9) + 12;

            // Discount Box
            doc.setFillColor(250, 250, 250);
            doc.setDrawColor(220, 220, 220);
            doc.roundedRect(margin, y, contentWidth, 35, 2, 2, 'FD');

            doc.setTextColor(240, 80, 35);
            doc.setFontSize(14);
            doc.setFont("helvetica", "bold");
            doc.text("OFFER:", margin + 5, y + 10);

            doc.setFontSize(12);
            doc.setFont("helvetica", "normal");
            doc.setTextColor(0, 0, 0);
            const discountSplit = doc.splitTextToSize(item.discountAmount, contentWidth - 10);
            doc.text(discountSplit, margin + 5, y + 22);

            y += 50;

            // Details
            function addDetail(label, value) {
                if (!value) return;
                doc.setFontSize(9);
                doc.setTextColor(100, 100, 100);
                doc.setFont("helvetica", "bold");
                doc.text(label.toUpperCase(), margin, y);
                y += 5; // Reduced from 5 (keep label tight)

                doc.setFontSize(11);
                doc.setTextColor(0, 0, 0);
                doc.setFont("helvetica", "normal");
                const valSplit = doc.splitTextToSize(value, contentWidth);
                doc.text(valSplit, margin, y);
                // Reduced spacing after each block
                y += (valSplit.length * 5) + 6;
            }

            addDetail("How to Redeem", item.howToRedeem);
            addDetail("Eligibility", item.whoCanRedeem.join(", "));
            addDetail("Location", item.address);
            if (item.phone) addDetail("Phone", item.phone);

            // --- New Internal Fields (Only in PDF) ---
            y += 6; // Reduced spacer

            doc.setDrawColor(200, 200, 200);
            doc.setLineWidth(0.1);
            doc.line(margin, y, pageWidth - margin, y);
            y += 8;

            // Admin Section Title
            doc.setFontSize(9);
            doc.setTextColor(150, 150, 150);
            doc.text("PARTNER INFORMATION", margin, y);
            y += 6;

            // Using a simple grid for these
            const leftCol = margin;
            const rightCol = margin + (contentWidth / 2);

            // Row 1
            if (item.joinDate) {
                doc.setFontSize(8); doc.setTextColor(150,150,150); doc.text("VDP JOIN DATE", leftCol, y);
                doc.setFontSize(9); doc.setTextColor(50,50,50); doc.text(item.joinDate, leftCol, y+5);
            }

            if (item.authorizedBy) {
                doc.setFontSize(8); doc.setTextColor(150,150,150); doc.text("AUTHORIZED BY", rightCol, y);
                doc.setFontSize(9); doc.setTextColor(50,50,50); doc.text(item.authorizedBy, rightCol, y+5);
                y += 10; // Reduced
            } else {
                y += 10;
            }

            // Row 2
            if (item.contactTitle) {
                doc.setFontSize(8); doc.setTextColor(150,150,150); doc.text("CONTACT TITLE/ROLE", leftCol, y);
                doc.setFontSize(9); doc.setTextColor(50,50,50); doc.text(item.contactTitle, leftCol, y+5);
                y += 12;
            } else {
                y += 12;
            }


            // --- Footer / About VDP ---
            // Push to bottom
            let footerY = pageHeight - 35; // Lowered margin slightly
            if (y > footerY) footerY = y + 10;

            doc.setDrawColor(240, 80, 35);
            doc.setLineWidth(0.5);
            doc.line(margin, footerY, pageWidth - margin, footerY);

            footerY += 8;

            doc.setFontSize(9);
            doc.setTextColor(80, 80, 80);

            const aboutText = "The Vaquero Discount Program (VDP) offers exclusive discounts to UTRGV students, faculty, staff, and alumni.";
            const aboutSplit = doc.splitTextToSize(aboutText, contentWidth);
            doc.text(aboutSplit, margin, footerY);

            footerY += (aboutSplit.length * 5) + 4;

            doc.setTextColor(240, 80, 35);
            doc.textWithLink("utrgv.edu/vdp", margin, footerY, { url: "https://www.utrgv.edu/vdp" });

            doc.save(`${item.businessName.replace(/[^a-z0-9]/gi, '_').toLowerCase()}_coupon.pdf`);
        };

        window.clearAllFilters = clearAllFilters;

        // --- STORAGE ---
        function saveState() {
            const s = {
                search: state.search,
                category: state.category,
                eligibility: Array.from(state.eligibility)
            };
            localStorage.setItem('vaquero_state', JSON.stringify(s));
        }

        function loadState() {
            try {
                const s = JSON.parse(localStorage.getItem('vaquero_state'));
                if (s) {
                    if (s.search) state.search = s.search;
                    if (s.category) state.category = s.category;
                    if (s.eligibility) state.eligibility = new Set(s.eligibility);
                }
            } catch (e) {
                console.log("No saved state");
            }
        }

        // Run
        init();
    </script>
</body>
</html>
